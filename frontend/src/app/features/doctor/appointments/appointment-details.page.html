<div class="modal-card">
  <div class="flex items-center gap-4 mb-4">
    <div class="avatar-lg" [style.background-image]="appointment.patient.avatar ? 'url(' + appointment.patient.avatar + ')' : ''">
      <span *ngIf="!appointment.patient.avatar">{{ getInitials(appointment.patient) }}</span>
    </div>
    <div>
      <div class="font-bold text-lg">{{ appointment.patient.name }}</div>
      <div class="text-muted text-sm">Age: {{ appointment.patient.age }} • {{ appointment.patient.email }}</div>
    </div>
  </div>
  <div class="grid grid-cols-3 gap-3 mb-4">
    <div class="stat-card">Appointment ID<br><span class="font-bold">{{ appointment.id }}</span></div>
    <div class="stat-card">Date & Time<br><span class="font-bold">{{ appointment.date | date:'MMM d, y - h:mm a' }}</span></div>
    <div class="stat-card">Status<br><span class="badge">{{ appointment.status | titlecase }}</span></div>
  </div>
  <div class="card mb-3">Chief Complaint: <span class="font-semibold">{{ appointment.chiefComplaint }}</span></div>
  <div class="grid grid-cols-3 gap-3 mb-4">
    <div class="stat-card">Heart Rate<br><span class="font-bold">{{ appointment.vitals.heartRate }} bpm</span></div>
    <div class="stat-card">Temperature<br><span class="font-bold">{{ appointment.vitals.temperature }}°C</span></div>
    <div class="stat-card">SpO2<br><span class="font-bold">{{ appointment.vitals.spO2 }}%</span></div>
  </div>
  <div class="card mb-3">Doctor Notes & Diagnosis: <span class="font-semibold">{{ appointment.diagnosis }}</span></div>
  <div class="card mb-3">
    <div class="font-bold mb-2">Prescription</div>
    <table class="w-full">
      <thead>
        <tr><th>Medicine</th><th>Dosage</th><th>Frequency</th><th>Duration</th></tr>
      </thead>
      <tbody>
        <tr *ngFor="let rx of appointment.prescription">
          <td>{{ rx.medicine }}</td>
          <td>{{ rx.dosage }}</td>
          <td>{{ rx.frequency }}</td>
          <td>{{ rx.duration }}</td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="flex gap-2 justify-end mt-4">
    <button class="btn-ghost btn">Download Report</button>
    <button class="btn">Book Follow-up</button>
  </div>
</div>
