<div class="p-6">
  <button class="btn" (click)="back()">Back</button>
  <h2 class="text-xl my-4">Doctor Approval</h2>

  <div *ngIf="message" class="mb-4">
    <app-alert-message [message]="message" [type]="type || 'success'" [visible]="true" [autoDismiss]="true" [duration]="4000"></app-alert-message>
  </div>

  <div *ngIf="doctor as d" class="card p-4 mb-4 space-y-3">
    <div>
      <div class="font-semibold text-lg">Dr. {{ d.firstName }} {{ d.lastName }}</div>
      <div class="text-sm text-gray-500">{{ d.specialty || 'General Medicine' }}</div>
      <div class="text-sm text-gray-500">License: {{ d.licenseNumber || 'â€”' }}</div>
      <div class="text-sm text-gray-500">Status: {{ d.isActive ? 'Active' : 'Pending' }}</div>
    </div>

    <div class="flex flex-wrap gap-3 mt-3">
      <button class="btn animate-pulse"
              [disabled]="d.licenseValidated"
              (click)="validateLicense()">
        {{ d.licenseValidated ? 'License validated' : 'Validate License' }}
      </button>
      <button class="btn animate-pulse"
              [disabled]="d.employmentConfirmed"
              (click)="confirmEmployment()">
        {{ d.employmentConfirmed ? 'Employment confirmed' : 'Confirm Employment' }}
      </button>
      <button class="btn btn-primary animate-bounce"
              [disabled]="d.isActive || !d.licenseValidated || !d.employmentConfirmed"
              (click)="activateDoctor()">
        {{ d.isActive ? 'Doctor Active' : 'Activate Doctor' }}
      </button>
    </div>
  </div>
</div>
