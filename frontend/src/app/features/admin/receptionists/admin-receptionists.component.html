<app-sidebar title="QuickMed Admin Portal" [menuItems]="menuItems"></app-sidebar>
<div class="ml-60 receptionist-page">
  <app-header></app-header>

  <div class="content-shell">
    <div class="page-head">
      <div>
        <p class="eyebrow">Front desk squad</p>
        <h1>Receptionist Management</h1>
        <p class="subtitle">Hire, onboard, and empower receptionists who keep the clinic running smoothly.</p>
      </div>
      <button class="primary-btn" (click)="inviteReceptionist()" [disabled]="inviteForm.invalid">
        Invite Receptionist
      </button>
    </div>

    <div class="dual-grid">
      <section class="invite-card">
        <h3>Quick invite</h3>
        <form [formGroup]="inviteForm">
          <div class="form-row">
            <input placeholder="First Name" formControlName="firstName" />
            <input placeholder="Last Name" formControlName="lastName" />
          </div>
          <input placeholder="Email" formControlName="email" />
          <input placeholder="Phone (optional)" formControlName="phoneNumber" />
          <button type="button" (click)="inviteReceptionist()">Send Invite</button>
        </form>
      </section>

      <section class="filter-card">
        <form [formGroup]="filterForm">
          <input class="search" placeholder="Search receptionists" formControlName="search" />
          <select formControlName="status">
            <option value="all">All statuses</option>
            <option value="active">Active</option>
            <option value="inactive">Inactive</option>
          </select>
        </form>
      </section>
    </div>

    <div class="alert" *ngIf="message() as alert" [class.error]="alert.type === 'error'">
      {{ alert.text }}
    </div>

    <section class="receptionist-grid">
      <div class="loader" *ngIf="loading()">Loading team...</div>
      <div class="empty" *ngIf="!loading() && receptionists().length === 0">
        No receptionists yet. Use the invite panel to add your first teammate.
      </div>

      <article class="receptionist-card" *ngFor="let user of receptionists()">
        <div class="card-head">
          <div class="avatar">{{ getInitials(user) }}</div>
          <div>
            <h3>{{ user.firstName }} {{ user.lastName }}</h3>
            <p>{{ user.email }}</p>
          </div>
          <span class="status" [class.active]="user.isActive">{{ user.isActive ? 'Active' : 'Inactive' }}</span>
        </div>
        <div class="card-actions">
          <button (click)="toggleActive(user)">
            {{ user.isActive ? 'Deactivate' : 'Activate' }}
          </button>
          <button class="ghost" (click)="removeReceptionist(user.id)">Remove</button>
        </div>
      </article>
    </section>
  </div>
</div>
