<app-admin-shell searchPlaceholder="Search patients, appointments...">
  <div class="admin-page-content dashboard-page">

    <!-- Top KPI cards - larger, cleaner, better hierarchy -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-8">
      <div class="stat-card primary">
        <div class="stat-header">
          <span class="stat-label">Total Appointments</span>
          <span class="stat-icon">üìÖ</span>
        </div>
        <div class="stat-value">0</div>
        <div class="stat-meta">0 today ‚Ä¢ 0 this week</div>
      </div>

      <div class="stat-card primary">
        <div class="stat-header">
          <span class="stat-label">Total Patients</span>
          <span class="stat-icon">üë•</span>
        </div>
        <div class="stat-value">1</div>
        <div class="stat-meta">3 users total</div>
      </div>

      <div class="stat-card accent">
        <div class="stat-header">
          <span class="stat-label">Revenue</span>
          <span class="stat-icon">üí∏</span>
        </div>
        <div class="stat-value">$0</div>
        <div class="stat-meta">Est $150 per consult</div>
      </div>

      <div class="stat-card">
        <div class="stat-header">
          <span class="stat-label">Pending Appointments</span>
          <span class="stat-icon">‚è≥</span>
        </div>
        <div class="stat-value">0</div>
        <div class="stat-meta">0 confirmed</div>
      </div>

      <div class="stat-card">
        <div class="stat-header">
          <span class="stat-label">Completed</span>
          <span class="stat-icon">‚úì</span>
        </div>
        <div class="stat-value">0</div>
        <div class="stat-meta">0 cancelled</div>
      </div>

      <div class="stat-card">
        <div class="stat-header">
          <span class="stat-label">Avg Wait Time</span>
          <span class="stat-icon">‚è±</span>
        </div>
        <div class="stat-value">30 min</div>
        <div class="stat-meta">Satisfaction 4.5/5</div>
      </div>
    </div>

    <!-- Momentum + System Health row -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">

      <div class="dash-card col-span-2 p-6">
        <div class="flex items-center justify-between mb-5">
          <div>
            <h3 class="section-title">Appointment Momentum</h3>
            <p class="section-subtitle">Live snapshot of today's pipeline</p>
          </div>
          <a href="#" class="text-sm text-emerald-400 hover:text-emerald-300 font-medium">View calendar ‚Üí</a>
        </div>

        <div class="grid grid-cols-2 sm:grid-cols-4 gap-4 text-center">
          <div class="momentum-pill">
            <div class="pill-value">0</div>
            <div class="pill-label">Today</div>
          </div>
          <div class="momentum-pill">
            <div class="pill-value">0</div>
            <div class="pill-label">This Week</div>
          </div>
          <div class="momentum-pill">
            <div class="pill-value">0</div>
            <div class="pill-label">This Month</div>
          </div>
          <div class="momentum-pill warning">
            <div class="pill-value">0</div>
            <div class="pill-label">Pending</div>
          </div>
        </div>

        <div class="mt-8 text-center text-gray-500 text-sm py-10 border border-dashed border-gray-700 rounded-xl">
          No upcoming appointments for today.
        </div>
      </div>

      <div class="dash-card p-6">
        <h3 class="section-title mb-5">System Health</h3>
        <div class="space-y-4">
          <div class="health-item">
            <span class="health-label">Database</span>
            <span class="status-dot healthy">healthy</span>
          </div>
          <div class="health-item">
            <span class="health-label">API</span>
            <span class="status-dot healthy">healthy</span>
          </div>
          <div class="health-item">
            <span class="health-label">Storage</span>
            <span class="status-dot healthy">healthy</span>
          </div>
          <div class="health-item">
            <span class="health-label">Notifications</span>
            <span class="status-dot healthy">healthy</span>
          </div>
        </div>
      </div>

    </div>

    <!-- Today's Appointments / Doctor Coverage section -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">

      <div class="dash-card p-6 lg:col-span-2">
        <div class="flex items-center justify-between mb-6">
          <div>
            <h3 class="section-title">Today's Appointments</h3>
            <p class="section-subtitle">No appointments scheduled for today.</p>
          </div>
          <button class="btn-primary" (click)="openNewAppointment()">New Appointment</button>
        </div>
        <div class="empty-state">
          <div class="empty-icon">üóìÔ∏è</div>
          <h4 class="empty-title">No engagements today</h4>
          <p class="empty-text">Schedule your first appointment to get started.</p>
        </div>
      </div>

      <div class="dash-card p-6">
        <h3 class="section-title mb-5">Doctor Coverage</h3>
        <p class="section-subtitle mb-6">Most active clinicians today</p>
        <div class="empty-state compact">
          <div class="empty-icon small">üë®‚Äç‚öïÔ∏è</div>
          <h4 class="empty-title">No active doctors</h4>
          <p class="empty-text">Check doctor availability</p>
        </div>
      </div>

    </div>

    <!-- New Appointment Modal (improved styling only) -->
    <div *ngIf="showNewAppointment()" class="modal-overlay">
      <div class="modal-card">
        <div class="flex justify-between items-center mb-6">
          <h3 class="modal-title">New Appointment</h3>
          <button class="modal-close" (click)="closeNewAppointment()">‚úï</button>
        </div>

        <app-alert-message *ngIf="apptAlert()" [message]="apptAlert()!.text" [type]="apptAlert()!.type" [visible]="true" [autoDismiss]="true"></app-alert-message>

        <div class="grid grid-cols-1 sm:grid-cols-2 gap-5">
          <label class="form-group">
            <span class="form-label">Patient</span>
            <select class="form-input" [ngModel]="apptPatientId()" (ngModelChange)="apptPatientId.set($event)">
              <option value="">Select patient</option>
              <option *ngFor="let p of patients()" [value]="p.id">{{p.firstName}} {{p.lastName}} ‚Äî {{p.email}}</option>
            </select>
          </label>

          <label class="form-group">
            <span class="form-label">Doctor</span>
            <select class="form-input" [ngModel]="apptDoctorId()" (ngModelChange)="apptDoctorId.set($event)">
              <option value="">Select doctor</option>
              <option *ngFor="let d of doctors()" [value]="d.id">{{d.firstName}} {{d.lastName}} ‚Äî {{d.specialty || 'Doctor'}}</option>
            </select>
          </label>

          <label class="form-group">
            <span class="form-label">Date</span>
            <input type="date" class="form-input" [ngModel]="apptDate()" (ngModelChange)="apptDate.set($event)" />
          </label>

          <label class="form-group">
            <span class="form-label">Time</span>
            <input type="time" class="form-input" [ngModel]="apptTime()" (ngModelChange)="apptTime.set($event)" />
          </label>

          <label class="form-group col-span-1 sm:col-span-2 flex items-center gap-3">
            <input type="checkbox" class="form-checkbox" [ngModel]="apptIsVideo()" (ngModelChange)="apptIsVideo.set($event)" />
            <span class="form-label inline">Video consultation</span>
          </label>

          <label class="form-group col-span-1 sm:col-span-2">
            <span class="form-label">Notes</span>
            <textarea class="form-textarea" rows="3" [ngModel]="apptNotes()" (ngModelChange)="apptNotes.set($event)"></textarea>
          </label>
        </div>

        <div class="mt-8 flex justify-end gap-4">
          <button class="btn-secondary" (click)="closeNewAppointment()">Cancel</button>
          <button class="btn-primary" (click)="createAppointment()">Create Appointment</button>
        </div>
      </div>
    </div>

  </div>
</app-admin-shell>