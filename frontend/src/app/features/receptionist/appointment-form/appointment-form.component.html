<div class="receptionist-layout" [class.dark]="themeService.isDark()">
  <app-header></app-header>
  <div class="body">
    <app-sidebar [title]="'QuickMed'" [menuItems]="menuItems" [secondaryItems]="secondaryItems"></app-sidebar>
    <main class="panel">
      <!-- Section: Hero/Header -->
      <section class="hero-section">
        <div class="hero-content">
          <p class="eyebrow">Appointments</p>
          <h1>Book Appointment</h1>
          <p class="muted">Connect patients with doctors and lock in their visit time.</p>
        </div>
        <div class="hero-actions">
          <button class="btn-ghost" type="button">
            <i class="bi bi-calendar-range"></i>
            View schedule
          </button>
          <button class="btn-primary" type="button" (click)="save()" [disabled]="isSaving()">
            <i class="bi bi-check2-circle"></i>
            Create Appointment
          </button>
        </div>
      </section>

      <!-- Section: Appointment Form Card -->
      <section class="form-section">
        <div class="glass-card form-card">
          <div class="form-grid">
            <div class="field">
              <label for="patient">Patient</label>
              <div class="select-wrapper">
                <i class="bi bi-person"></i>
                <select id="patient" [(ngModel)]="model().patientId" name="patientId">
                  <option value="" disabled>Select patient</option>
                  <option *ngFor="let patient of patients()" [value]="patient.id">
                    {{ patient.firstName }} {{ patient.lastName }} ({{ patient.email }})
                  </option>
                </select>
                <i class="bi bi-chevron-down dropdown-icon"></i>
              </div>
            </div>

            <div class="field">
              <label for="doctor">Doctor</label>
              <div class="select-wrapper">
                <i class="bi bi-stethoscope"></i>
                <select id="doctor" [(ngModel)]="model().doctorId" name="doctorId">
                  <option value="" disabled>Select doctor</option>
                  <option *ngFor="let doc of doctors()" [value]="doc.id">
                    Dr. {{ doc.firstName }} {{ doc.lastName }} {{ doc.specialty ? '· ' + doc.specialty : '' }}
                  </option>
                </select>
                <i class="bi bi-chevron-down dropdown-icon"></i>
              </div>
            </div>

            <div class="field">
              <label for="date">Date</label>
              <div class="input-wrapper">
                <i class="bi bi-calendar3"></i>
                <input id="date" [(ngModel)]="model().appointmentDate" name="appointmentDate" type="date" />
              </div>
            </div>

            <div class="field">
              <label for="time">Appointment Time</label>
              <div class="input-wrapper">
                <i class="bi bi-clock"></i>
                <input id="time" [(ngModel)]="model().appointmentTime" name="appointmentTime" type="time" step="900" />
              </div>
            </div>

            <div class="field full-width">
              <label for="notes">Notes</label>
              <div class="textarea-wrapper">
                <textarea id="notes" [(ngModel)]="model().notes" name="notes"
                  placeholder="Reason or internal notes"></textarea>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Section: Info Grid -->
      <section class="info-grid">
        <div class="glass-card info-card">
          <div class="info-header">
            <div class="info-icon primary">
              <i class="bi bi-lightbulb"></i>
            </div>
            <h3>Quick tips</h3>
          </div>
          <ul class="tips-list">
            <li><i class="bi bi-check-circle"></i> Verify patient contact details before saving.</li>
            <li><i class="bi bi-check-circle"></i> Use status updates to track arrivals.</li>
            <li><i class="bi bi-check-circle"></i> Flag notes for special instructions.</li>
          </ul>
        </div>
        <div class="glass-card info-card">
          <div class="info-header">
            <div class="info-icon accent">
              <i class="bi bi-info-circle"></i>
            </div>
            <h3>Today’s overview</h3>
          </div>
          <p class="muted">Need to check today’s load? Use the dashboard for live queues and pending payments.</p>
          <button class="btn-text" (click)="goToDashboard()">Go to Dashboard →</button>
        </div>
      </section>
    </main>
  </div>
</div>